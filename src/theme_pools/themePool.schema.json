{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://example.com/schemas/theme-pools.schema.json",
    "title": "Theme Pools",
    "type": "object",
    "description": "A mapping of theme names (e.g., EARTH, SEA, FORGE) to theme-pool definitions.",
    "minProperties": 1,
  
    "additionalProperties": { "$ref": "#/$defs/ThemePool" },
  
    "$defs": {
      "NonEmptyStringArray": {
        "type": "array",
        "items": { "type": "string", "minLength": 1 },
        "minItems": 1
      },
  
      "LastNamePieces": {
        "type": "object",
        "properties": {
          "left": { "$ref": "#/$defs/NonEmptyStringArray" },
          "right": { "$ref": "#/$defs/NonEmptyStringArray" }
        },
        "required": ["left", "right"],
        "additionalProperties": false
      },
  
      "TitlePieces": {
        "type": "object",
        "properties": {
          "left": { "$ref": "#/$defs/NonEmptyStringArray" },
          "right": { "$ref": "#/$defs/NonEmptyStringArray" },
          "comboWeight": {
            "type": "number",
            "minimum": 0
          }
        },
        "required": ["left", "right"],
        "additionalProperties": false
      },
  
      "ThemePool": {
        "type": "object",
        "properties": {
          "consonants": { "$ref": "#/$defs/NonEmptyStringArray" },
          "vowels": { "$ref": "#/$defs/NonEmptyStringArray" },
          "clustersStart": { "$ref": "#/$defs/NonEmptyStringArray" },
          "clustersEnd": { "$ref": "#/$defs/NonEmptyStringArray" },
          "maleEndings": { "$ref": "#/$defs/NonEmptyStringArray" },
          "femaleEndings": { "$ref": "#/$defs/NonEmptyStringArray" },
  
          "lastNamePieces": { "$ref": "#/$defs/LastNamePieces" },
  
          "titles": { "$ref": "#/$defs/NonEmptyStringArray" },
  
          "titlePieces": { "$ref": "#/$defs/TitlePieces" },
  
          "patterns": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "minLength": 1,
              "pattern": "^[SCVE]+$"
            },
            "description": "Name patterns (e.g., CVC, CVCC, SCV, CVCEC). Allowed symbols: S, C, V, E."
          }
        },
        "required": [
          "consonants",
          "vowels",
          "clustersStart",
          "clustersEnd",
          "maleEndings",
          "femaleEndings",
          "lastNamePieces",
          "titles",
          "titlePieces",
          "patterns"
        ],
        "additionalProperties": false
      }
    }
  }
  